Hepatology23929719
==================

Repository for the source code of article :  
"Quantitative Proteomics Identifies the Membrane-Associated Peroxidase GPx8 as a Cellular Substrate of the Hepatitis C Virus NS3-4A Protease"  
Morikawa K, Gouttenoire J, Hernandez C, Thi VL, Tran HT, Lange CM, Dill MT, Heim MH, Donz√© O, Penin F, Quadroni M, Moradpour D.   
Hepatology, 2013 Aug 8   
doi: http://dx.doi.org/10.1002/hep.26671 [Epub ahead of print]   
PubMed PMID: 23929719  


SliceSILAC pipeline
--------------------------------------------------------------------------------

The SliceSILAC pipeline consists of two steps. The fist one is a Perl script used to filter 
ProteinGroups.txt files generated by MaxQuant. The second one uses the output of the perl 
script to generate, using R, images representing H/L ratios and evidence counts of filtered protein groups.

NOTE : the MaxQuant analysis must have been done using an experimental design file with the format specified 
in Supplementary File S1

Requirements:  
To run these scripts you need to have Perl and R installed on your local computer.  
You can download them from these websites:  
Perl: http://www.perl.org/get.html  
R: http://cran.r-project.org/mirrors.html  

### NOTE FOR WINDOWS USERS

To run the R script in the second step of this pipeline you will need to use Rscript.exe.  
This tool is part of any default R installation. If you have R installed on your local computer, 
this tool is located inside the bin folder of the R installation directory. From the command prompt, 
you will need to give the full path to Rscript.exe to run create_slicesilac_images.R on your 
filtered data.

Example of possible location of Rscript.exe :  
 (these are just examples, please check on your computer to find out where Rscript.exe is located)  
 C:\R\R.2.11.1\bin\Rscript.exe  
 C:\Program Files\R\R-2.11.1\bin\Rscript.exe  
Example of command line to be used in the Windows command prompt:  
 "C:\Program Files\R\R-2.11.1\bin\Rscript.exe" create_slicesilac_images.R filtered_output.txt output_img.png 18 all  

Doc version : 1.0  
Date: 22-Aug-2012  
Author: Celine Hernandez  
Contact: wwwpaf@unil.ch  



### SliceSILAC pipeline : Step 1

Parse tab files from MaxQuant to screen H/L ratios band by band.  
Look for protein entries for which at least 2 ratios are following these criteria:  
- at least one ratio below 'less_value'   
- at least one ratio above 'more_value'  

Usage Windows:  
``` Perl.exe gel_mobility_2-0.pl <input_file_name> <less_value> <more_value> <slice_number> output_file_name>  ```

Usage Linux:   
``` perl gel_mobility_2-0.pl <input_file_name> <less_value> <more_value> <slice_number> output_file_name>  ```
  
  
1. perl / Perl.exe :   	Perl interpreter
2. input_file_name :	path to the list of protein groups 
						 (MaxQuant output as generated with SliceSILAC experimental design).
3. less_value :         threshold for SILAC H/L ratios
4. more_value :         threshold for SILAC H/L ratios
5. output_file_name	:	path to the output file


#### Example of command line:  

* Select protein groups with at least one ratio below 0.8 and one above 1.0 among 18 slices, 
from file 'proteinGroups.txt' located in the same folder. The filtered list will be saved 
in a file named 'filtered_output.txt'.

Windows:  
```	Perl.exe gel_mobility_2-0.pl ./proteinGroups.txt 0.8 1.0 18 filtered_output.txt```

Linux:  
```	perl gel_mobility_2-0.pl ./proteinGroups.txt 0.8 1.0 18 filtered_output.txt```

 
Script version : 2.0  
Date: 27-May-2011  
Author: Manfredo Quadroni  
Contact: wwwpaf@unil.ch  



### SliceSILAC pipeline : Step 2


This script is part of a pipeline to analyze SliceSILAC data. In particular, 
it is to be run on the output file generated by the script gel_mobility_2-0.pl .
It creates visual representation of the SILAC H/L ratios and ratio counts, 
from a filtered MaxQuant ProteinGroup.txt output generated with a SliceSILAC 
experimental design.  
These output images show the presence of a list of proteins in different gel
slices. Each presence is represented as a circle where the fill color indicates
the H/L SILAC ratio of this protein and the radius indicates the ratio count.  

Usage Windows:  
``` "C:\Program Files\R\R-2.11.1\bin\Rscript.exe" create_slicesilac_images.R <input_file_name> <output_file_name> <slices_number> <list:of:indexes|all>```
 
Usage Linux:  
``` Rscript create_slicesilac_images.R <input_file_name> <output_file_name> <slices_number> <list:of:indexes|all>```

 
1. Rscript / Rscript.exe :       tool to run R scripts in the command prompt.  
								 This tool is part of the default R installation.  
2. create_slicesilac_images.R :  path to this script  
3. input_file_name :             path to the list of protein groups   
								 (MaxQuant output generated with SliceSILAC experimental design).  
4. output_file_name :            any name with the png extension.  
								 Selected proteins will be splited in subsets of 20 elements  
								 and a different image will be generated for each subset.  
5. slices_number :               number of gel slices  
6. all / list:of:indexes :       list of the protein indexes to be used, separated by ':'  
								 1 corresponds to the index of the first protein in input_file_name  
								 This list can be replaced by 'all' if the user wants to visualize all proteins  


#### Examples of command line:  
  
* Use 'all' proteins listed in a file called 'filtered_output.txt' (located in 
the same folder as the script) to create an image called 'output.png'. The gel was originally
cut into 18 slices.

Windows:  
```   "C:\Program Files\R\R-2.11.1\bin\Rscript.exe" create_slicesilac_images.R ./filtered_output.txt output.png 18 all ```

Linux:  
```   Rscript create_slicesilac_images.R ./filtered_output.txt output.png 18 all ```


* Same as above but use only proteins whose index is 1:2:6:3 in ProteinGroup.txt.
Note that indexes do not need to be listed in ascending order

Windows:
```   "C:\Program Files\R\R-2.11.1\bin\Rscript.exe" create_slicesilac_images.R ./filtered_output.txt output.png 18 1:2:6:3 ```

Linux:
```   Rscript create_slicesilac_images.R ./filtered_output.txt output.png 18 1:2:6:3 ```

Script version : 1.0  
Date: 22-Aug-2012  
Author: Celine Hernandez  
Contact: wwwpaf@unil.ch  

